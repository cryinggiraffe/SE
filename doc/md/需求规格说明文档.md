# 1 引言

## 1.1 目的


​	本文档描述了灯具厂进销存系统的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。

## 1.2 范围

​	灯具企业进销存系统 是为×××灯具企业南京总代理开发的业务系统，开发的目标是用于帮助该商店处理日常的重点业务，包括商品销售、财务管理、库存管理和运营管理。

​	通过灯具企业进销存系统的应用，期望为企业提高销售员工工作效率、降低库存运营成本、减少商品报废浪费、吸引回头客并提高满意度、提高销售额和利润。

## 1.3 参考文献

1、  IEEE标准

2、  灯具进销存用例文档 V1.0
# 2 总体描述

## 2.1 商品前景

### 2.1.1 背景与机遇


​	一民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。随着公司业务量的不断增加，手工管理已经无法应付工作量剧增的销售、库存和财务管理等业务。由于处理不善会时常导致库存挤压，销售额增长缓慢，且财务人员工作效率低下。

 

现公司规模扩大，企业业务量、办公场所、员工数都发生增长，为适应新的环境，提高工作效率和用户满意度，该公司聘请公司S开发一套进销存系统。

 

### 2.1.2 业务需求

​	BR1：在系统使用6个月后，商品积压、缺货和报废的现象要减少50%

​	BR2：在系统使用3个月后，销售和财务人员工作效率提高50%

​	BR3：在系统使用6个月后，运营成本要降低15%

​		范围：人力成本和库存成本

​		度量：检查平均员工数量和平均每10,000元销售额的库存成本

​	BR4：在系统使用6个月后，销售额度要提高20%

​		最好情况：40%

​		最可能情况：20%

​		最坏情况：10%

## 2.2 商品功能

​	SF1：帮助库存管理人员管理商品种类和商品库存

​	SF2：分析商品库存，发现可能的商品积压、缺货和报废现象

​	SF3：管理客户信息

​	SF4：帮助销售人员处理销售与退货任务

​	SF5：帮助销售人员处理进货退货事宜

​	SF6：协助财务人员管理银行账户

​	SF7：管理企业财务活动

​	SF8：查看企业经营状况

​	SF9：审批财务、销售、进货相关单据

​	SF10：决定促销策略

​	SF11:系统用户管理

## 2.3 用户特征

​	**库存管理人员** 1到2名。负责对商品分类和商品的信息的管理。能够简单使用办公信息化系统。基本持积极态度。不希望增加现有工作量。

​	**进货销售人员** 4到8名。负责完成进货单盒销售单，对新系统基本持积极态度。不希望增加现有工作量。

​	**财务人员** 1到2名。能够熟练使用办公信息化系统，持积极态度。不希望增加现有工作量。

​	**总经理** 2名。能够熟练使用办公信息化系统。能够熟练使用。有两名总经理。通常每天都会进行交易，所以会每天都会产生收款单和付款单，总经理需要每天查看申请单据，修改单据，审批单据，与财务人员相同，可以查看销售明细表、经营历程表、经营情况表，唯一不同的是，总经理在查看经营历程表时，不能使用红冲功能。为了提升竞争力，同时发展稳定客户，总经理要针对用户的不同等级制定促销策略。通常使用赠品、价格转让、增送代金券的方式。每次换季的时候，会有商品积压风险，总经理可以制定特价包，通常使用组合商品降价。在每年的几个重要节日，总经理要制定促销策略，与其他商家竞争，通常使用赠品、赠送代金券。总经理的计算机操作技能较好。

## 2.4 约束

CON1：系统将运行在Win10操作系统上

CON2：系统不使用Web界面，而是图形界面

CON3：项目要使用持续集成方法进行开发。

CON4：在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告。

## 2.5 假设和依赖

AE1：赠送行为会在制表时就从库存里扣除相关货物

AE2：每天的销售、进货、退货、付款、收款单数量分别不超过9999

AE3:    总经理审核后的单据，立即生效。
# 3 详细需求描述

##3.1 对外接口需求 

### 3.1.1 用户界面

**UI1商品分类管理 **



**UI2商品管理 **



**UI3查看库存 **



**UI4赠送库存 **



**UI5库存监管 **



**UI6客户管理**

​	**UI6.1**  销售人员点击添加新客户，系统显示用户信息空表单

​	**UI6.2**  销售人员点击删除客户，系统返回客户信息列表供用户选择

​	**UI6.3**  销售人员点击更新客户信息，系统返回客户信息列表供用户选择修改属性

​	**UI6.4**  销售人员提交更新，系统询问确认

**UI7进退货管理**

**UI7.1**  销售人员点击生成表单，系统返回制表种类选项

**UI7.2**  销售人员选择表单种类，系统显示用户信息空表单

**UI7.3**  销售人员提交更新，系统询问确认

​	**UI7.3.1**  销售人员确认更新，系统生成新表单

​	**UI7.3.2**  销售人员取消更新，系统撤销表单生成

**UI8销售管理**

**UI8.1**  销售人员点击生成表单，系统返回制表种类选项

**UI8.2**  销售人员选择表单种类，系统显示用户信息空表单

**UI8.3**  销售人员提交更新，系统询问确认

​	**UI8.3.1**  销售人员确认更新，系统生成新表单

​	**UI8.3.2**  销售人员取消更新，系统撤销表单生成


**UI9账户管理 **


​	**UI9.1**  财务人员点击账户管理按键后，系统列表显示现有账户的名称和金额

​	**UI9.2**  财务人员点击新建账户按键后，系统显示新建账户界面

​	**UI9.3**  财务人员选择某账户进行删除，系统更新显示列表

​	**UI9.4**  财务人员在搜索框内输入查询账户的关键字

​		**UI9.4.1**  如果系统有相关账户，则列表显示账户信息

​		**UI9.4.2**  如果系统没有相关账户，则显示无此账户信息

**UI10财务管理 **

​	**UI10.1** 财务人员点击新建收款单，系统显示新建收款单界面

​		**UI10.1.1**  财务人员点击提交后系统提示收款单创建成功

​	**UI10.2** 财务人员点击新建付款单，系统显示新建付款单界面

​		**UI10.2.1**  财务人员点击提交后系统提示付款单创建成功

​	**UI10.3** 财务人员点击新建现金费用单，系统显示新建现金费用单界面

​		**UI10.3.1**  财务人员点击提交后系统提示现金费用单创建成功

**UI11期初建账 **

​	**UI11.1**  财务人员点击期初建账按键后，系统显示期初建账信息界面

**UI12经营历程查询**  界面顶部有时间、单据类型、客户、业务员和仓库五个筛选下拉框，下部为显示单据信息的部分

​	**UI12.1**  财务人员或总经理选择不同的筛选条件，点击查询按键后，系统列表显示符合筛选条件的单据

​		**UI12.1.1**  财务人员或总经理点击某单据，系统显示该单据的详细信息

​			**UI12.1.2.1**  财务人员或总经理点击返回按键，系统返回上一步筛选出的单据列表

​			**UI12.1.2.2**  财务人员点击红冲按键，系统提示是否对此单据进行红冲操作

​				**UI12.1.2.2.1**  财务人员选择是，系统进行红冲操作后返回上一步筛选出的单据列表

​				**UI12.1.2.2.2**  财务人员选择否，系统返回该单据详细界面

​			**UI12.1.2.3**  财务人员点击红冲并复制按键，系统提示是否对此单据进行红冲并复制操作

​				**UI12.1.2.3.1**  财务人员选择是，系统显示该单据的副本供用户编辑

​					**UI12.1.2.3.1.1**  财务人员点击提交按键，系统将该单据入账并返回上一步筛选出的单据列表

​					**UI12.1.2.3.1.2**  财务人员点击取消按键，系统返回该单据详细界面

​				**UI12.1.2.3.2**  财务人员选择否，系统返回该单据详细界面

**UI13经营情况查询 **：系统应使用From风格的界面，帮助总经理使用经营情况查询界面完成经营情况的查询任务。

 

**UI14销售情况查询**：系统应使用From风格的界面，帮助总经理使用销售情况查询界面完成销售情况的查询任务。



**UI15审批单据 **：系统应使用From风格的界面，帮助总经理使用审批单据界面完成单据的审批任务。



**UI16制定促销策略 **：系统应使用From风格的界面，帮助总经理使用制定促销策略界面完成制定促销策略的任务。



**UI17用户管理 ** 界面顶部有创建用户按键，下方显示现有用户列表，每个用户列表旁有编辑和删除按键

​	**UI17.1**  管理人员点击创建用户按键，系统显示创建用户界面

​		**UI17.1.1**  管理人员点击确定按键，系统将该用户添加至用户列表并返回用户列表界面

​		**UI17.1.2**  管理人员点击取消按键，系统直接返回用户列表界面

​	**UI17.2**  管理人员点击编辑按键，系统显示该用户信息界面

​		**UI17.2.1**  管理人员点击确定按键，系统保存该用户信息并返回用户列表界面

​		**UI17.2.2**  管理人员点击取消按键，系统直接返回用户列表界面

​	**UI17.3**  管理人员点击删除按键，系统提示是否确认删除对话框

​		**UI17.3.1**  管理人员点击确定按键，系统删除该用户并返回用户列表界面

​		**UI17.3.2**  管理人员点击取消按键，系统直接返回用户列表界面

**UI18用户登录与验证**  正常的登录界面

​	**UI18.1**  用户输入正确的用户ID和密码后，系统显示各用户的操作界面

​		**UI18.1.1**  如果用户类型为仓库管理员，则用户操作界面上方按键为：商品分类、商品管理、查看库存、赠送库存、库存监管、修改密码

​		**UI18.1.2**  如果用户类型为销售人员，则用户操作界面上方按键为：客户管理、进退货管理、销售管理、修改密码

​		**UI18.1.3**  如果用户类型为财务人员，则用户操作界面上方按键为：账户管理、财务管理、经营历程、经营情况、销售情况、期初建账、修改密码

​		**UI18.1.4**  如果用户类型为总经理，则用户操作界面上方按键为：经营历程、经营情况、销售情况、审批单据、促销策略、修改密码

​		**UI18.1.5**  如果用户类型为仓库管理员，则用户操作界面上方按键为：用户管理、修改密码

​	**UI18.2**  如果用户输入的用户ID或密码错误，系统显示错误信息对话框

​		**UI18.2.1**  用户点击确定后，系统回到登录界面

## 3.2 功能需求

### 3.2.1 商品分类管理

#### 3.2.1.1 特性描述

一个经过验证的库存管理人员管理商品分类，完成添加商品分类，或者删除商品分类，或者修改商品分类。

优先级=中

#### 3.2.1.2 刺激/响应序列

**刺激** ：库存管理人员添加商品分类

**响应** ：系统为增加一个新的商品分类，并为该分类生成一个编号

**刺激** ：库存管理人员删除商品分类

**响应** ：系统删除该商品分类，显示删除成功

**刺激** ：库存管理人员修改一个分类的名称

**响应** ：系统修改分类名称

#### 3.2.1.3 相关功能需求

**Category.Add.New**

在库存管理人员请求添加新的商品分类时，系统要允许库存管理人员进行输入，并为其分配一个商品分类编号，参见Category.Id

**Category.Add.Invalid**

如果库存管理人员添加的分类下有商品，系统显示不能添加

**Category.Delete**

在库存管理人员请求删除商品分类时，系统删除分类编号, 参见Category.Id

**Category.Delete.Invalid**

如果删除的分类下有可见的商品，系统显示分类下有商品不能删除

**Category.Delete.Hide**

如果删除的分类下的商品都是不可见的，系统隐藏

**Category.Rename**

在库存管理人员请求重命名商品分类时，系统要允许库存管理人员进行输入

**Category.Id.new**

在库存管理人员新建分类的时候，系统为该分类分配一个商品分类编号

**Category.Id.Delete** 

在库存管理人员删除分类的时候，系统回收该分类的商品分类编号

### 3.2.2 商品管理

#### 3.2.2.1 特性描述

一个经过验证的库存管理人员管理商品，完成添加商品，或者删除商品，或者修改商品分类，或者修改商品名称，或者查找商品。

优先级=中

#### 3.2.2.2 刺激/响应序列

**刺激** ：库存管理人员添加商品

**响应** ：系统为增加一个新的商品分类，并为该商品生成一个商品编号

**刺激** ：库存管理人员删除商品

**响应** ：系统删除该商品，显示删除成功

**刺激** ：库存管理人员修改商品

**响应** ：系统为该商品修改商品名称、数量、型号等信息

**刺激** ：库存管理人员修改一个商品的分类

**响应** ：系统显示可以移动的商品分类名称列表

**刺激** ：库存管理人员选择一个商品分类

**响应** ：系统将商品移动到该分类下面

**刺激** ：库存管理人员通过关键字查找商品

**响应** ：系统返回查找到的商品信息，并列出商品的编号，名称和型号

#### 3.2.2.3 相关功能需求

**Good.Add.New**

在库存管理人员请求添加新的商品分类时，系统要允许库存管理人员进行输入，并为其分配一个商品分类编号，参见Category.Id

**Good.Add.Invalid**

如果库存管理人员添加的分类下有商品，系统显示不能添加

**Good.Delete**

在库存管理人员请求删除商品分类时，系统删除分类编号, 参见Category.Id

**Good.Delete.Invalid**

如果删除的分类下有可见的商品，系统显示分类下有商品不能删除

**Good.Delete.Hide**

如果删除的分类下的商品都是不可见的，系统隐藏

**Good.Input**

系统应当允许库存管理人员在商品管理任务中进行键盘输入

**Good.Input.Cancel**

在库存管理人员取消修改输入时，系统回到商品管理任务

**Good.Input.Invalid**

在库存管理人员输入其他标识时，系统显示输入无效

**Good.Edit**

系统应当允许库存管理人员通过键盘输入进行商品修改操作，参见Good.Input

**Good.Edit.Rename**

在库存管理人员请求重命名商品分类时，系统要允许库存管理人员进行输入

**Good.Edit.Count**

在库存管理人员在键盘上更改商品的数量时，系统修改商品数量

**Good.Edit.Type**

在库存管理人员在键盘上更改商品的型号时，系统修改商品型号

**Good.Edit.PurPrice**

在库存管理人员在键盘上更改商品的进价时，系统修改商品进价

**Good.Edit.PurPrice.Recent**

在库存管理人员在键盘上更改商品的最近进价时，系统修改商品最近进价

**Good.Edit.Price.Recent**

在库存管理人员在键盘上更改商品的最近零售价时，系统修改商品最近零售价

**Good.Edit.Cancel**

在库存管理人员取消修改操作时，系统回到商品管理任务，不对商品信息做任何处理

**Good.Id.new**

在库存管理人员新建分类的时候，系统为该分类分配一个商品分类编号

**Good.Id.Delete** 

在库存管理人员删除分类的时候，系统回收该分类的商品分类编号

**Good.Update** 

系统更新商品清单

### 3.2.3 查看库存

#### 3.2.3.1 特性描述

一个经过验证的库存管理人员查看库存，导出表格。

优先级=中

#### 3.2.3.2 刺激/响应序列

**刺激** ：库存管理人员输入一个时间段

**响应** ：系统显示该时间段内的出库数量及金额，入库数量及金额，销售数量及金额，进货数量及金额，显示库存数量的合计

**刺激** ：库存管理人员要求导出表格

**响应** ：系统导出Excel表格

**刺激** ：库存管理人员盘点库存

**响应** ：系统显示当天各种商品的名称、型号、库存数量、库存均价、批次、批号、出场日期，并且显示行号

**刺激** ：库存管理人员要求导出表格

**响应** ：系统导出Excel表格

#### 3.2.3.3 相关功能需求

**View.Input** 

系统应该允许库存管理人员在库存查看任务中进行键盘输入

**View.Input.Period**

在库存管理人员输入一段时间段后，系统显示该时间段内的出库数量及金额，入库数量及金额，销售数量及金额，进货数量及金额，显示库存数量的合计

**View.Input.Invalid**

如果库存管理人员输入的时间段超过系统存储的时间段，显示超出有效时间段

**View.Check**

在库存管理人员请求盘点库存时，系统显示当天各种商品的名称、型号、库存数量、库存均价、批次、批号、出场日期，并且显示行号

**View.Output.Excel**

在库存管理人员要求导出表格的时候，系统导出Excel表格

### 3.2.4 赠送库存

#### 3.2.4.1 特性描述

一个经过验证的库存管理人员开始处理库存赠送任务，完成赠品选择，库存更新，打印单据，提交单据。

优先级：中

#### 3.2.4.2 刺激/响应序列

**刺激** ：库存管理人员请求赠品推荐

**响应** ：系统查找库存均价在20-100元之间的商品，将商品的所有属性按行显示出来

**刺激** ：库存管理人员选择合适的赠品

**响应** ：系统生成单据，自动提交单据，从库存中减去这些商品，并且打印单据，关闭当前赠送库存任务，更新库存

#### 3.2.4.3 相关功能需求

**Gift.Recommend** 

在库存管理人员请求赠品推荐时，系统查找库存均价在20-100元之间的商品，将商品的所有属性按行显示出来

**Gift.Check**

系统显示赠品清单，包括赠品所有信息

**Gift.Check.Cancel**

在库存管理人员取消命令时，系统回到赠送库存任务，不做任何处理

**Gift.Submit**

在库存管理人员选择完赠品以后，系统将生产赠品单据，提交给总经理

**Gift.End**

系统应该允许库存管理人员要求结束赠送库存任务

**Gift.End.Timeout**

在赠送库存任务开始2个小时候还没有接收到库存管理人员的选择时，系统取消赠送赠送任务

**Gift.End.Update**

在库存管理人员结束赠品赠送任务以后，系统更新商品信息

**Gift.Close.Print**

系统打印赠品单据

**Gift.Addback**

如果赠送商品的单据被拒绝，系统应当自动地将该部分赠品重新添加到库存中去

**Gift.Addback.Update**

系统更新商品信息

### 3.2.5 库存监管

#### 3.2.5.1 特性描述

一个经过验证的库存管理人员完成库存报溢，库存报损，当库存数量低于警戒值，仓库管理人员完成库存报警

优先级：中

#### 3.2.5.2 刺激/响应序列

**刺激** ：库存管理人员进行库存报溢

**响应** ：系统应当允许库存管理人员进行商品添加操作, 生成库存报溢单

**刺激** ：库存管理人员进行库存报损

**响应** ：系统应当允许库存管理人员进行商品修改操作， 生成库存报损单

**刺激** ：库存数量低于警戒数量，即该商品日销量的4倍

**响应** ：系统生成库存报警单

#### 3.2.5.3 相关功能需求

**Supervise.Overflow** 

在库存管理人员进行库存报溢时，系统允许库存管理人员进行商品添加操作

**Supervise.Overflow.List**

系统生成库存报溢单

**Supervise.Loss**

在库存管理人员进行库存报损时，系统允许库存管理人员进行商品数量修改操作

**Supervise.Loss.List**

系统生成库存报损单

**Supervise.Alert.Message**

库存数量低于警戒数量，系统向库存管理人员提示消息

**Supervise.Alert.List**

系统生成库存报警单

### 3.2.6 客户管理

#### 3.2.6.1 特性描述

录入新添顾客，删除失效的客户信息，以及及时更新客户信息。按条件查找客户信息。

#### 3.2.6.2 刺激/响应序列

刺激：销售员请求增加新客户

响应：系统在用户列表中增加新客户

刺激：销售员编辑客户信息

响应：系统更新客户列表中的信息显示

刺激：销售员移除客户

响应：系统将用户从列表中移除

刺激：销售员取消调整客户

响应：系统关闭调整用户任务

刺激：销售员确认完成调整用户

响应：系统记录用户信息，关闭调整用户任务

#### 3.2.6.3 相关功能需求

**Client.New**  在销售员的请求下，系统自动生成新的客户相关信息（编号），并在列表中显示客户信息。

**Client.Del** 在销售员请求删除列表中的一个客户时，系统在列表中将其标记为已移除

**Client.Edit** 系统允许销售员编客用户列表中除客户编号和应收/应付之外的信息

**Client.Update** 系统更新客户信息

**Client.Cancel** 在销售员请求取消客户调整任务时，系统关闭用客户调整任务

**Client.Confirm**  在销售员确认客户调整任务结束时，系统更新数据，关闭客户调整任务

### 3.2.7 进退货管理

#### 3.2.7.1 特性描述

销售人员根据商品库存状况，制作进货/退货单，等待审批和执行

#### 3.2.7.2 刺激/响应序列

刺激：销售员要求进货表单制作

响应：系统提示并显示表单制作种类（进货单/退货单）

刺激：销售员选择种类

响应：系统创建新表单界面，等待销售员输入信息

刺激：销售员提交表单

响应：系统提示确认信息

刺激：销售员确认/取消订单

响应：系统更新表单列表信息，退出制表界面

#### 3.2.7.3 相关功能需求

**Import.Import.New**  销售员需要从厂家进货时，制作新的进货单，输入表单基本信息

**Import.Import.Cancel**  撤销进货单制作操作，系统退回制单前的状态

**Import.Import.Confirm** 销售员提交表单

**Import.Return.New** 销售员对不需要的库存商品进行退货操作，制作新的退货单，输入表单基本信息

**Import.Return.Cancel** 撤销退货单制作操作，系统退回原来的状态

**Import.Return.Confirm** 销售员提交退货单

**Import.Update** 系统更新表单列表，显示在用户界面



### 3.2.8 销售管理

#### 3.2.8.1 特性描述

销售人员根据销售活动，制作销售/退货单，等待审批和执行

#### 3.2.8.2 刺激/响应序列

刺激：销售员要求销售表单制作

响应：系统提示并显示表单制作种类（销售单/退货单）

刺激：销售员选择种类

响应：系统创建新表单界面，等待销售员输入信息

刺激：销售员提交表单

响应：系统提示确认信息

刺激：销售员确认/取消订单

响应：系统更新销售列表信息，退出制表界面

#### 3.2.8.3 相关功能需求

**Sale.Sale.New**  销售员需要从厂家进货时，制作新的进货单，输入表单基本信息

**Sale.Sale.Cancel**  撤销进货单制作操作，系统退回制单前的状态

**Sale.Sal.Confirm** 销售员提交表单

**Sale.Return.New** 销售员对不需要的库存商品进行退货操作，制作新的退货单，输入表单基本信息

**Sale.Return.Cancel** 撤销退货单制作操作，系统退回原来的状态

**Sale.Return.Confirm** 销售员提交退货单

**Sale.Update** 系统更新表单列表，显示在用户界面

### 3.2.9 账户管理

#### 3.2.9.1 特性描述

拥有最高权限的财务人员对此公司的银行账户进行管理，可以进行增删改查等操作

#### 3.2.9.2 刺激/响应序列

刺激：财务人员登录系统选择账户管理

响应：系统显示现有账户名称和金额

刺激：财务人员增加账户输入账户名称

响应：系统根据账户名称检索收款单和付款单生成余额并更新账户信息列表

刺激：财务人员选择账户进行删除

响应：系统删除该账户并更新账户信息列表

刺激：财务人员选择账户进行修改

响应：系统保存修改信息并更新账户信息列表

刺激：财务人员输入关键字查询账户

响应：系统列表显示相关账户信息

#### 3.2.9.3 相关功能需求

**Account.New**  财务人员增加新的账户，系统将该账户加入账户列表

**Account.New.Cal**  财务人员增加新账户后，系统根据账户名称检索收款单和付款单计算出账户余额

**Account.Del**  财务人员删除账户，系统将该账户从账户列表中删除

**Account.Edit**  系统应该允许财务人员编辑账户列表中除金额的数据

**Account.Query**  系统允许财务人员对账号进行关键字模糊查询

**Account.Update**  系统更新账户列表，显示在用户界面

### 3.2.10 财务管理

#### 3.2.10.1 特性描述

财务人员需要制定收款单、付款单以及现金费用单

#### 3.2.10.2 刺激/响应序列

刺激：财务人员选择创建收款单

响应：系统新建一个收款单，自动生成单据编号（SKD-yyyyMMdd-xxxxx），记录当前登录用户为操作员

刺激：财务人员填写客户与转账列表（包括银行账户、转账金额、备注）

响应：系统自动计算转账列表中的转账金额总和记录到金额汇总中

刺激：财务人员提交收款单

响应：系统将创建的收款单状态改为待审核并提示创建收款单成功

刺激：财务人员选择创建付款单

响应：系统新建一个付款单，自动生成单据编号（FKD-yyyyMMdd-xxxxx），记录当前登录用户为操作员

刺激：财务人员填写客户与转账列表（包括银行账户、转账金额、备注）

响应：系统自动计算转账列表中的转账金额总和记录到金额汇总中

刺激：财务人员提交付款单

响应：系统将创建的付款单状态改为待审核并提示创建付款单成功

刺激：财务人员选择创建现金费用单

响应：系统新建一个现金费用单，自动生成单据编号（XJFYD-yyyyMMdd-xxxxx），记录当前登录用户为操作员

刺激：财务人员填写银行账户与条目清单（包括条目名、金额、备注）

响应：系统自动计算条目清单中的金额总和记录到总额中

刺激：财务人员提交现金费用单

响应：系统减少该账户的余额并提示创建现金费用单成功

#### 3.2.10.3 相关功能需求

**Bill.Receipt.New**  创建新的收款单，由财务人员填入基本信息

**Bill.Payment.New**  创建新的付款单，由财务人员填入基本信息

**Bill.Cash.New**  创建新的现金费用单，由财务人员填入基本信息

**Bill.Cancel**   撤销创建收付款单及现金费用单的操作，系统退回制单前的状态

**Bill.Confirm**  财务人员提交表单

**Bill.Cal**  系统根据转账列表或条目清单中的金额计算总额

**Bill.ChangeState**  系统修改收付款单状态为待审核

### 3.2.11 期初建账

#### 3.2.11.1 特性描述

在期初新建一套账，期初的信息一旦建立完毕就会单独存储起来，同时将此信息作为系统的启动初始状态，之后的一切操作将会改变系统里的信息，但不会改变期初信息。

#### 3.2.11.2 刺激/响应序列

刺激：财务人员选择初期建账

响应：系统从上一次帐表中添加商品信息（商品分类、商品名称、类别、型号、进价/售价、最近进价、最近售价）、客户信息（客户分类、客户名称、联系方式、应收款、应付款）和银行账户信息（名称、余额）

刺激：财务人员核对信息后确认

响应：系统将此信息单独存储可供查询

#### 3.2.11.3 相关功能需求

**InitialAccount.New**  财务人员选择期初建账，系统生成初期账单信息

**InitialAccount.Confirm**  财务人员确认初期建账信息

**InitialAccount.Save**  系统将初期信息单独存储

**InitialAccount.Inquire**  系统提供对初期信息的查询功能

### 3.2.12 经营历程查询

#### 3.2.12.1 特性描述

用户查看一段时间里的所有单据，系统根据用户的筛选条件显示出符合条件的单据，可以对单据进行查看，只有财务人员可以进行红冲和红冲并复制操作

#### 3.2.12.2 刺激/响应序列

刺激：用户选择筛选条件

响应：系统显示符合筛选条件的单据

刺激：用户选择要查看的单据

响应：系统显示该单据详细信息

刺激：用户选择对该单据进行红冲操作

响应：系统检测用户是否为财务人员

刺激：是财务人员

响应：系统生成一个将该单据的金额数据取负数的单据

刺激：财务人员确认该红冲单据

响应：系统将该单据入账

刺激：不是财务人员

响应：系统提示该用户无权限操作

刺激：用户选择对该单据进行红冲并复制操作

响应：系统检测用户是否为财务人员

刺激：是财务人员

响应：系统复制该单据生成一个草稿单据

刺激：用户对草稿单据进行编辑并保存

响应：系统将该单据入账

刺激：不是财务人员

响应：系统提示该用户无权限操作

#### 3.2.12.3 相关功能需求

**BusinessProcess.Inquire**  系统列表显示符合筛选条件的单据

**BusinessProcess.Detail**  系统显示被选择单据的详细信息  

**BusinessProcess.Identity**  系统检测用户身份

**BusinessProcess.Copy**  系统将选择的单据复制一份

**BusinessProcess.Red**  系统将该单据的金额数据取负数

**BusinessProcess.Edit**  财务人员对复制单据进行编辑

**BusinessProcess.Confirm**   财务人员确认该单据，系统将该单据入账

**BusinessProcess.Concel**  财务人员取消红冲/红冲并复制操作，系统退回操作前状态  
### 3.2.13 经营情况查询

#### 3.2.13.1 特性描述

为了更好的了解公司的运营情况，一个经过验证的总经理可以查看一段时间内的经营收支状况和利润。

#### 3.2.13.2 刺激/响应序列

刺激：总经理选择查询经营情况

响应：系统显示销售收入、商品报溢收入、成本调价收入、进货退货差价、代金券与实际收款差额收入、销售成本、商品报损、商品赠出和利润

刺激：总经理确认完成经营情况的查询

响应：系统关闭查询经营情况任务

#### 3.2.13.3 相关功能需求

**TranslationSituation.query** 总经理选择查询经营情况时，系统显示一段时间内的经营收支状况和利润 

**TranslationSituation.query.end** 总经理结束查询时，系统结束经营情况查询任务

### 3.2.14 销售情况查询

#### 3.2.14.1 特性描述

为了了解公司的销售情况，一个经过验证的总经理可以查看一段时间内的商品销售情况，即查询销售出货单据记录

#### 3.2.14.2 刺激/响应序列

刺激：用户输入筛选条件，包括：时间区间，单据类型，客户，业务员，仓库

响应： 系统显示商品销售记录，包括：时间、商品名、型号、数量、单价、总额

刺激：总经理确认完成销售情况的查询

响应：系统关闭查询经营情况任务

#### 3.2.14.3 相关功能需求

**SaleSituation.Cancle**	在总经理请求取消销售情况查询任务时，系统关闭销售情况查询任务

**SaleSituation.input** 系统应该允许用户在销售情况查询任务中进行键盘输入或鼠标键入

**SaleSituation.input.Time** 在总经理请求输入时间区间时，系统执行输入时间区间任务

**SaleSituation.input.Produce**   在总经理请求输入单据类型时，系统执行输入商品名任务

**SaleSituation.input.client** 在总经理请求输入客户时，系统执行输入任务

**SaleSituation.input.worker** 在总经理请求输入业务员时，系统执行输入业务员任务

**SaleSituation.input.warehouse** 在总经理请求输入仓库时，系统执行输入仓库任务 

**SaleSituation.Confirm**	总经理经理确认输入信息结束

**SaleSituation.List** 系统显示商品销售记录

**SaleSituation.Cancle**	在总经理请求取消销售情况查询任务时，系统关闭销售情况查询任务

### 3.2.15 审批单据

#### 3.2.15.1 特性描述

为了对公司做出决策，一个经过验证的总经理可以进行单据的审批

#### 3.2.15.2 刺激/响应序列

刺激：总经理请求查看申请单据

响应：系统显示申请状态的单据

刺激：总经理修改申请单据数据

响应：系统更新申请单据数据

刺激：总经理审批单据

响应：系统更新单据状态

#### 3.2.15.3 相关功能需求

**Approve.View** 总经理请求查看申请单据，系统显示出所有申请的单据

**Promotion.Edit**	系统应该允许总经理修改单据

**Promotion.Edit.data** 系统应该允许总经理修改单据数据

**Promotion.Edit.status** 系统应该允许总经理修改单据状态

**Promotion.Update.data** 系统更新单据的数据

**Approve.Update.status** 系统更新单据的数据

**Approve.End** 总经理完成全部审批，系统关闭审批单据任务

**Approve.Cancle** 在总经理请求取消审批单据时，系统应该关闭审批单据任务

### 3.2.16 制定促销策略

#### 3.2.16.1 特性描述

在需要进行商品促销时，一个经过验证的总经理可以制定促销策略，系统更新调整后的促销策略。

#### 3.2.16.2 刺激/响应序列

刺激：总经理选择促销策略类型

响应：系统显示选定类型的促销策略列表

刺激：总经理请求增加一个促销策略

响应：系统在促销策略列表中增加一个促销策略

刺激：总经理编辑新增加的促销策略

响应：系统更新促销策略列表中新策略的信息显示

刺激：总经理删除一个已有促销策略

响应：系统将该促销策略从促销策略列表中移除

刺激：总经理取消制定促销策略任务

响应：系统关闭制定促销策略任务

刺激：总经理确认完成促销策略制定

响应：系统记录促销策略信息，关闭制定促销策略任务

#### 3.2.16.3 相关功能需求

**Promotion.Select** 在总经理请求制定一个促销策略类型时，系统显示该类型的促销策略列表

**Promotion.New**	在总经理请求增加新的促销策略时，系统在促销策略列表中增加新的促销策略

**Promotion.Del.**	在总经理请求删除已有的促销策略时，系统在促销策略列表中移除指定的促销策略

**Promotion.Edit**	系统应该允许总经理编辑促销策略

**Promotion.Cancle**	在总经理请求取消促销策略定制时，系统应该关闭制定促销策略服务

**Promotion.Confirm**	系统应该允许总经理确认制定促销策略结束

**Promotion.Confirm.Invalid**	促销策略数据全部通过检查时，系统提示有促销策略数据不完整或不正确

**Promotion.Confirm.Valid**	促销列策略都通过检查时，系统更新数据，建立库存赠送单，关闭促销策略制定任务

**Promotion.Valid**	系统应该验证每个促销策略的数据完整性和一致性

**Promotion.Valid.StartDate**	在促销策略的开始日期为空或者开始日期晚于等于当天60天时，系统提示开始日期不正确，验证不通过

**Promotion.Valid.EndDate**	在促销策略的结束日期为空或者结束日期早于等于当天时，系统提示结束日期不正确，验证不通过

**Promotion.Valid.GoodsGift**	在商品赠送策略的促销商品标识或赠品标识不在商品目录中时，系统提示促销商品标识或赠品标识不正确，验证不通过

**Promotion.Valid.GoodsDiscount**	在商品特价策略的促销商品标识不在商品目录中或者特价为空或者特价<=0或者特价>=价格时，系统提示商品标识或者特价不正确，验证不通过

**Promotion.Valid. AmountGift**	赠品标识不在商品目录中时，系统提示额度或赠品标识不正确，验证不通过

**Promotion.Valid. AmountDiscount**	在总额特价策略的额度<=30或者折扣率<=0或者折扣率>=1时，系统提示额度或折扣率不正确，验证不通过

**Promotion.Update ** 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新

**Promotion.Update.GoodsGift**	 系统更新商品赠送策略

**Promotion.Update.GoodsDiscount**	系统更新商品特价策略

**Promotion.Update.AmountGift**	系统更新总额赠送策略

**Promotion.Update.AmountDiscount**	系统更新总额特价策略

### 3.2.17 用户管理

#### 3.2.17.1 特性描述

在发生人员变动时，一个经过验证的管理员可以调整用户，增加新员工，移除离职员工，变更员工职位。系统最后要更新变动的员工信息。

#### 3.2.17.2 刺激/响应序列

刺激：管理员请求增加新用户

响应：系统在用户列表中增加新用户

刺激：管理员编辑用户信息

响应：系统更新用户列表中的信息显示

刺激：管理员移除用户

响应：系统将用户从列表中移除

刺激：管理员取消用户调整

响应：系统关闭用户管理任务

刺激：管理员确认完成用户调整

响应：系统记录用户信息，关闭用户管理任务

#### 3.2.17.3 相关功能需求

**User.New**  在管理员请求增加用户时，系统生成一个新员工号，并在用户列表中增加该新用户的显示

**User.Delete**   在管理员请求删除用户列表中一个用户时，系统在用户列表中将该用户标记为“已移除”

**User.Edit**  系统应该允许管理员编辑用户列表中除员工号之外的数据

**User.Confirm**  在管理员确认用户调整任务结束时，系统更新数据，关闭用户管理任务

**User.Cancle**  在管理员请求取消用户调整任务时，系统关闭用户管理任务

### 3.2.18 用户登录和验证

#### 3.2.18.1 特性描述

在系统启动时，用户要进行登录与验证，经过验证后的用户才能拥有各自的访问权限，开展各自的工作。

####3.2.18.2 刺激/响应序列

刺激：用户输入员工号与密码登录

响应：系统进行验证，根据身份为用户授予访问权限

####3.2.18.3 相关功能需求 

**Logging.Validate ** 在用户请求登录时，系统应该验证用户的信息

**Logging.Validate.Invalid**	在验证不通过时，系统提示登录失败

**Logging.Validate.Valid**  在验证通过时，系统根据用户身份给予用户任务访问权限

**Logging.WarehouseManager**  在库存管理人员身份的用户通过验证时，系统应该授予下列访问权限

**Logging.WarehouseManager.Category**  系统应该允许库存管理人员进行商品分类管理

**Logging.WarehouseManager.Good**  系统应该允许库存管理人员进行商品管理

**Logging.WarehouseManager.View**  系统应该允许库存管理人员查看库存

**Logging.WarehouseManager.Supervise** 系统应该允许库存管理人员库存对库存进行监管

**Logging.WarehouseManager.Gift**  系统应该允许库存管理人员赠送库存

**Logging.Saler**  在销售员身份的用户通过验证时，系统应该授予下列访问权限

**Logging.Saler.Client**  系统应该允许销售员进行客户管理

**Logging.Saler.Sale**  系统应该允许销售员进行销售管理

**Logging.Saler.Import**  系统应该允许销售员执行进退货管理

**Logging.FinancialOfficer**  在财务人员身份的用户通过验证时，系统应该授予下列访问权限

**Logging.FinancialOfficer.Accounts**  系统应该允许财务人员进行账户管理

**Logging.FinancialOfficer.Bills ** 系统应该允许财务人员进行财务管理

**Logging.FinancialOfficer.InitialAccount**  系统应该允许财务人员进行初期建账

**Logging.FinancialOfficer.Red**  系统应该允许财务人员进行红冲操作

**Logging.FinancialOfficer.RedCopy**  系统应该允许财务人员进行红冲并复制操作

**Logging.FinancialOfficer.BusinessProcess**  系统应该允许财务人员进行查看经营历程操作

**Logging.FinancialOfficer.TranslationSituation**  系统应该允许财务人员进行查看经营情况的操作

**Logging.FinancialOfficer.SaleSituation**  系统应该允许财务人员进行查看销售情况的操作

**Logging.Manager**  在总经理身份的用户通过验证时，系统应该授予下列访问权限

**Logging.Manager.BusinessProcess**  系统应该允许总经理进行查看经营历程操作

**Logging.Manager.TranslationSituation**  系统应该允许总经理进行查看经营情况的操作

**Logging.Manager.SaleSituation**  系统应该允许总经理进行查看销售情况的操作

**Logging.Manager.Approve**  系统应该允许总经理进行审批单据的操作

**Logging.Manager.Promotion**  系统应该允许总经理进行制定促销策略的操作

**Logging.Administrator**  在guanli 身份的用户通过验证时，系统应该授予下列访问权限

**Logging.Administrator.User**  系统应该允许管理员执行用户管理操作

**Logging.All.Password**  在经过验证的所有身份用户登录时，系统应该允许用户修改自己的密码
## 3.3 非功能需求

### 3.3.1 安全性

（此处只需要写相应要添加的安全性需求 不需要写前面的safety编号，后面的一样）

Safety：系统应该只允许经过验证和授权的用户访问；

Safety：系统应该按照用户身份给予验证用户的访问权限；

Safety：系统只允许最高权限者修改客户的应收/应付信息；

Safety：所有销售员的表单，一旦创建不许删除。

Safety：系统只允许最高权限者查看账户名称和余额

Safety：系统只允许财务人员进行红冲和红冲并复制操作

Safety：系统只允许管理员进行用户删除和增加操作

Safety：系统有一个默认的管理员账号，该账户只允许管理员用户修改口令。




###3.3.2 可维护性 

Modifiability：在系统的商品标识数据格式发生变化时（见Format1），系统要能够在3人1天内完成；

Modifiability：如果系统要增加新的特价包和促销策略，要能在0.25个人月内完成




### 3.3.3 易用性

Usability：销售处理和退货的账单信息显示要在1米之外能看清。

Usability：使用系统1个月的收银员进行销售处理的效率要达到10件商品/分钟。

Usability：使用系统6个月总经理进行审批单据能达到1份单据/分钟，制定促销策略和特价包更加迅速

### 3.3.4 可靠性



### 3.3.5 业务规则



### 3.3.6 约束

多用户同时处理

## 3.4 数据需求

### 3.4.1 数据定义

（此处也是不需要写编号，下同）


DR：系统需要存储1年内的各单据信息

###3.4.2 默认数据

默认数据用于：

- 系统中新增加数据时
- 编辑数据时不小心将相关内容清空

Default：新建账户无相关收付款单则默认金额为0

Default：新建用户未设置密码默认为666666

### 3.4.3 数据格式要求

Format：收款单编号为 SKD-yyyyMMdd-xxxxx

Format：付款单编号为 FKD-yyyyMMdd-xxxxx

Format：现金费用单编号为 XJFYD-yyyyMMdd-xxxxx

Format：用户ID编号为5位0~9数字

Format：价格和费用的格式必须是：大于等于0、精确到小数点后2位的为浮点数，单位为RMB元
## 3.5其他需求

系统会自动建立库存赠送单

支持导出数据







































