#用例列表

|  参与者   | 用例                                       |
| :----: | :--------------------------------------- |
| 库存管理人员 | 1. 商品分类管理 2. 商品管理 3. 查看库存 4. 赠送库存 5. 库存监管 |
| 进货销售人员 | 6. 客户管理 7. 进退货管理 8. 销售管理                 |
|  财务人员  | 9. 账户管理 10. 财务管理 11. 期初建账 12. 经营历程查询 13. 经营情况查询 14. 销售情况查询 |
|  总经理   | 12. 经营历程查询 13. 经营情况查询 14. 销售情况查询 15. 审批单据 16. 制定促销策略 |
| 系统管理员  | 17.系统管理                                  |

#详细用例描述

##用例1 商品分类管理

**ID** ：1

**名称** ：商品分类管理

**创建者** ：陆瑶

**最后一次更新者** ：陆瑶

**创建日期** ：2017/9/16

**最后更新日期** ：2017/10/19

**参与者** ：库存管理人员，目标是对商品进行分类

**触发条件** ：商品已经到达和清点完毕，库存管理人员对系统进行商品分类操作

**前置条件** ：库存管理人员已经被识别和授权

**后置条件** ：商品分类完成，更新库存

**优先级** ：中

**正常流程** ：

1. 库存管理人员增加、删除或者修改商品分类

   1.1 库存管理人员增加分类

   1. 库存管理人员增加一个商品分类
   2. 系统允许库存管理人员输入商品分类名称
   3. 库存管理人员输入商品分类名称
   4. 系统显示添加成功

   1.2 库存管理人员删除分类

   1. 库存管理人员选择一个商品分类进行删除
   2. 系统显示删除成功

   1.3 库存管理人员修改一个分类

   1. 库存管理人员选择一个分类修改商品分类名称
   2. 系统允许库存管理人员输入新的商品分类名称
   3. 库存管理人员输入商品分类名称
   4. 系统显示修改后的分类名称以及该分类下的商品

**扩展流程：**

  1.1a. 添加的是子分类，父分类下有商品

​	1. 系统提示错误并拒绝添加子分类

  1.2a. 该分类下有商品，且所有这些商品都被隐藏

​	1. 系统隐藏该分类，显示删除成功

  1.2b. 该分类下有商品，且存在可见商品

​	1. 系统提示错误并拒绝删除

**特殊需求** ：无



##用例2 商品管理

**ID** ：2

**名称** ：商品管理

**创建者** ：陆瑶

**最后一次更新者** ：陆瑶

**创建日期** ：2017/9/16

**最后更新日期** ：2017/10/19

**参与者** ：库存管理人员，目标是方便对商品进行有序的管理

**触发条件** ：商品已经到达和清点完毕，库存管理人员对系统进行商品管理的操作

**前置条件** ：库存管理人员已经被识别和授权

**后置条件** ：更新库存

**优先级** ：中

**正常流程** ：

1. 库存管理人员对商品进行增删改查操作

   1.1 库存管理人员增加商品

   1. 库存管理人员在一个商品分类下面增加商品
   2. 系统允许库存管理人员输入新的商品名称
   3. 库存管理人员输入商品名称
   4. 系统添加新的商品，并为其生产一个商品编号，显示添加成功

   1.2 库存管理人员删除商品

   1. 库存管理人员选择一个商品进行删除操作
   2. 系统删除商品，并显示删除成功

   1.3 库存管理人员修改商品

   ​    1.3.1 库存管理人员修改商品名称

   ​        1.库存管理人员选择一个商品修改名称

   ​	2.系统允许库存管理人员输入新的商品名称

   ​	3.库存管理人员输入商品名称

   ​	4.系统显示修改成功

   ​    1.3.2 库存管理人员移动商品到别的分类

   ​	1.库存管理人员选择一个商品修改分类

   ​	2.系统显示可以移动至的商品分类列表

   ​	3.库存管理人员选择一个商品分类进行移动

   ​	4.系统将该商品的所有信息移动到该新的分类下面

   1.4 库存管理人员查询商品

   ​    1.4.1 库存管理人员按关键字查询商品

   ​	1.库存管理人员输入商品名称

   ​	2.系统返回相关商品信息，以列表显示

   ​    1.4.2 库存管理人员按编号查询商品

   ​	1.库存管理人员输入商品编号

   ​	2.系统返回相关商品信息，以列表显示

**扩展流程** ：

 1.1a. 如果添加商品的分类不是叶节点，该分类下还有子分类

1. 系统提示错误并拒绝添加

 1.2a. 如果该商品有过库存，或者发生过历史交易

1. 系统将该商品隐藏起来，设置为用户不可见模式，且将最新一次的出厂日期设置为0年0月0日，用以标记删除

 1.4a. 没有相关商品

1. 系统显示没有找到

**特殊需求** ：

1. 商品编号一共13位，第一位默认为1，中间8位为种类分类编码，后四位为商品校验码
2. 对于删除超过一年没有进行特殊标记的商品就在一年过后的年末由系统管理人员删除，特殊标记就是把最新一次的出厂日期设置为1年1月1日

##用例3 查看库存

**ID** ：3

**名称** ：查看库存

**创建者** ：陆瑶

**最后一次更新者** ：陆瑶

**创建日期** ：2017/9/16

**最后更新日期** ：2017/10/19

**参与者**：库存管理人员，目标是核对、查看库存，盘点库存

**触发条件** ：库存管理人员对系统进行库存查看操作

**前置条件**：库存管理人员已经被识别和授权

**后置条件**：

**优先级**：中

**正常流程**：

1. 库存管理人员输入一个时间段
2. 系统显示该时间段内的出库数量及金额，入库数量及金额，销售数量及金额，进货数量及金额，显示库存数量的合计
3. 库存管理人员点击库存盘点
4. 系统显示当天各种商品的名称、型号、库存数量、库存均价、批次、批号、出场日期，并且显示行号
5. 如果库存管理人员请求导出Excel
6. 系统导出Excel

**扩展流程**：

**特殊需求**：

##用例4 赠送库存

**ID** ：4

**名称** ：赠送库存

**创建者** ：陆瑶

**最后一次更新者** ：陆瑶

**创建日期** ：2017/9/21

**最后更新日期** ：2017/9/21

**参与者**：库存管理人员，目标是减少库存囤积，增加顾客回头率

**触发条件** ：库存人员选择赠品推荐且单次购买金额超过500元

**前置条件**：库存管理人员已经被识别和授权

**后置条件**：打印提交单据，从库存中减去这些商品，更新库存

**优先级**：中

**正常流程** ：

1. 系统查找库存均价在20-100元之间的商品，将商品的所有属性按行显示出来
2. 库存管理人员选择合适的赠送商品
3. 系统自动提交单据，从库存中减去这些商品，并且打印单据，更新库存
4. 单据通过，系统打印单据，更新库存

**扩展流程**：

4a. 单据被拒绝

1. 系统自动将该部分商品重新添加到库存中去，通知库存管理人员

**特殊需求**：

##用例5 库存监管

**ID** ：5

**名称** ：库存监管

**创建者** ：陆瑶

**最后一次更新者** ：陆瑶

**创建日期** ：2017/9/21

**最后更新日期** ：2017/10/19

**参与者**：库存管理人员，目标是使实际库房中的商品数量与系统一致，发现需要进货的商品

**触发条件** ：库存管理人员进行库存报溢或者商品需要进货

**前置条件**：库存管理人员已经被识别和授权

**后置条件**：生成库存报溢单，或者库存报损单，或者库存报警单，提交审批

**优先级**：中

**正常流程** ：

1. 库存管理人员生产库存报溢单、库存报损单或者库存报警单

   1.1 生成库存报溢单

   1. 库存管理人员进行库存报溢，向系统库存中添加商品使一致
   2. 系统生成库存报溢单，提交审批

   1.2 生成库存报损单

   1. 库存管理人员进行库存报损，向系统库存中减少商品使一致
   2. 系统生成库存报损单，提交审批

   1.3 生成库存报警单

   1. 当商品库存数量低于该商品平均日销量的4倍时，系统进行提示，系统向仓库管理员发送消息
   2. 系统生成库存报警单

**扩展流程**：

2a. 库存报溢单通过审批

1. 系统自动完成相应数据的更改

**特殊需求**： 

## 用例6 客户管理

**ID:** 6

**名称**:  客户管理

**创建者**: 蒲瑜琦

**最后一次更新者：** 蒲瑜琦

**创建日期：** 20170916

**最后更新日期：** 20170921

**参与者:** 销售人员 销售经理

**触发条件:** 客户信息发生改变、需要查看和更新客户信息

**前置条件：**
销售人员和经理必须被识别和授权

**后置条件：**
完成客户相关信息更新，更新数据库

**优先级：**

**正常流程：**

1.1 添加新用户

1. 系统显示添加功能界面
2. 销售员输入新增用户信息（客户的信息有：编号、分类、级别、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员）
3. 销售人员点击确认完成信息录入
4. 系统反馈录入结果（成功/失败）

1.2 查询客户信息

1. 系统显示查询界面
2. 输入相关用户信息
3. 销售人员点击确认提交查找条件
4. 系统反馈查找结果

1.3 删减客户

1. 系统显示客户信息
2. 选择删除项目，询问确认是否删除。
3. 显示删除操作结果（成功/失败）

1.4 更新用户信息

1. 销售人员查找客户信息
2. 系统显示客户
3. 销售人员选择修改属性
4. 销售人员输入属性修改值
5. 销售人员提交修改
6. 系统反馈修改结果

**扩展流程：**

1.1a 添加重复用户

1. 系统提示重复输入

1.4a 用户无权删除客户

1. 系统提示无权限更改用户信息

**特殊需求：** 应收额度仅最高权限可修改

## 用例7 销售管理

**ID:** 7

**名称**:  销售管理

**创建者**: 蒲瑜琦

**最后一次更新者：** 蒲瑜琦

**创建日期：** 20170917

**最后更新日期：** 20170917

**参与者：** 销售人员 销售经理

**触发条件：** 销售人员需要进行销售处理和受理退货处理时

**前置条件：** 销售人员必须经过识别和授权、退货操作前要有相应的销售订单

**后置条件：** 更新、记录订单信息

优先级：

**正常流程：** 

1.1 销售单定制

1. 销售人员输入销售单信息（单据编号，客户，业务员，操作员，仓库，出货商品清单，折让前总额，折让，使用代金卷金额，折让后总额，备注）
2. 系统显示记录商品，商品信息包括商品标识、名称、数量、单价和本项商品总价
3. 系统显示订单信息：单据编号,操作员（当前登录用户），银行账户，条目清单，总额
4. 根据客户等级计算折让额，计算折让后总额
5. 销售人员结束输入，提交销售订单

1.2 销售退货订单定制

1. 销售人员输入退货订单信息
2. 系统显示记录退货商品，商品信息包括商品标识、描述、数量、单价和本项商品总价
3. 系统显示退货订单信息：单据编号,操作员（当前登录用户），银行账户，条目清单，总额

**扩展流程：** 

1.1ab 超出当日最大交易量

1. 系统提示无法创建新的订单

1.2a 库存中没有找到所选退货商品

1. 系统提示无对应商品

特殊需求：



## 用例8 进货管理

**ID:**  8

**名称**:  进货管理

**创建者**: 蒲瑜琦

**最后一次更新者：** 蒲瑜琦

**创建日期：** 20170917

**最后更新日期：** 20170921

**参与者：** 销售人员 销售经理

**触发条件：** 
销售人员需要进货/退货时
**前置条件：**
操作人员身份得到识别和授权
**后置条件：**
记录相关进货和退货信息
**优先级：**

**正常流程：** 

1.1 进货单定制

1. 销售员输入进货的信息（单据编号，供应商，仓库，操作员，入库商品列表，备注，总额合计
2. 系统显示需要进货的商品信息（商品编号，名称，型号，数量，单价，金额，备注）
3. 销售人员选择进货商品项、数量
4. 系统显示相关商品信息列表，显示总价
5. 销售人员结束输入
6. 系统记录订货单

1.2 进货退货单制定

1. 销售员输退货单的信息
2. 销售人员选择退货商品项、数量
3. 系统显示相关商品信息列表，显示总价
4. 销售人员结束输入
5. 系统记录退货单

**扩展流程：**

1.1a 进货单达到当日最大数

1. 系统提示进货单达到当日最大量

1.2a 退货单达到当日最大数

1. 系统提示退货单达到当日最大量

**特殊需求：**



## 用例9 账户管理

**ID**: 9

**名称**:  账户管理

**创建者**: 徐鹤

**最后一更新者:** 徐鹤 

**创建日期**: 20170917

**最后更新日期**: 20170921

**参与者**: 财务人员；目的是帮助财务人员更好的进行银行账户的管理

**触发条件**: 财务人员对银行账户进行管理

**前置条件**: 当前用户具备最高权限

**后置条件**: 

**优先级**:

**正常流程**:  

1. 财务人员登录系统进行账户管理

2. 系统显示现有账户名称和余额

3. 财务人员对账户进行增加、删除、修改和查询操作

   3.1 财务人员增加账户

   1. 财务人员输入账户名称
   2. 系统根据账户名称检索收款单和付款单生成余额
   3. 系统更新账户信息
   4. 系统提示增加账户成功

   3.2 财务人员删除账户

   1. 财务人员选择要删除的账户执行删除操作
   2. 系统从账户信息中删除所选账户
   3. 系统更新账户信息
   4. 系统提示删除账户成功

   3.3 财务人员修改账户

   1. 财务人员选择要修改的账户执行修改操作
   2. 系统更新账户信息
   3. 系统提示修改账户成功

   3.4 财务人员查询账户

   1. 财务人员输入要查询的账户或其关键字
   2. 系统根据关键字列表显示相关账户信息

4. 系统列表显示操作后的账户名称和金额

**扩展流程**:

1. 不具备最高权限
   1. 系统提示不具备权限拒绝使用此功能3.1.1a.非法的账户信息


   3.1.1a.非法的账户信息

​	 1. 系统提示输入出错

   3.1.2a. 账户无收款单和付款单数据

​	1. 系统设置默认余额为0

   3.4.1a. 财务人员输入账户信息查找不到

​	1. 系统提示无此账户信息

**特殊需求**: 

1.  账户金额不可修改，取决于收付款单

## 用例10 财务管理

**ID:**10

**名称:** 财务管理

**创建者:** 徐鹤

**最后一更新者:** 徐鹤 

**创建日期:** 20170917

**最后更新日期: **20170921

**参与者:** 财务人员、总经理；目的是帮助用户了解当前的财务信息

**触发条件:** 财务人员需要进行财务管理

**前置条件:** 财务人员登录系统并具有权限 

**后置条件:** 系统对账户信息进行更新

**优先级:**

**正常流程:**  

1. 财务人员选择创建表单为收款单或付款单或现金费用单

   1.1 创建收款单

   1. 系统新建一个收款单，自动生成单据编号，记录当前登录用户为操作员
   2. 财务人员填写客户
   3. 财务人员填写转账列表（包括银行账户、转账金额、备注）
   4. 系统自动计算转账列表中的转账金额总和记录到金额汇总中
   5. 财务人员提交收款单

   1.2 创建付款单

   1. 系统新建一个付款单，自动生成单据编号，记录当前登录用户为操作员
   2. 财务人员填写客户
   3. 财务人员填写转账列表（包括银行账户、转账金额、备注）
   4. 系统自动计算转账列表中的转账金额总和记录到金额汇总中
   5. 财务人员提交付款单

   1.3 创建现金费用单

   1. 系统新建一个现金费用单，自动生成单据编号，记录当前登录用户为操作员
   2. 财务人员填写银行账户
   3. 财务人员填写条目清单（包括条目名、金额、备注）
   4. 系统自动计算转账列表中的金额总和记录到总额中
   5. 财务人员提交现金费用单
   6. 系统减少该账户的余额

2. 系统提示创建表单成功

3. 系统将创建的表单发送至总经理处审核

4. 总经理审核通过后系统给财务人员发送审核通过消息

5. 总经理审核通过后系统更改相应客户的应收应付数据

**扩展流程:** 

   1.1.2a. 填写的客户是系统中不存在的客户

​	1. 系统提示此客户不存在拒绝输入

   1.3.6a. 账户金额小于现金费用单总额

​	1. 系统提示现金费用单出错

**特殊需求：**

1. 收款单单据编号格式为：SKD-yyyyMMdd-xxxxx
2. 付款单单据编号格式为：FKD-yyyyMMdd-xxxxx
3. 现金费用单单据编号格式为：XJFYD-yyyyMMdd-xxxxx

## 用例11 期初建账

**ID:**  11

**名称:**  期初建账

**创建者:** 徐鹤

**最后一更新者:** 徐鹤 

**创建日期:**  20170917

**最后更新日期:** 20170921

**参与者:** 财务人员；目的是在每个账期初始新建一套账

**触发条件:** 用户需要新建一套账

**前置条件:** 用户登录系统并具有权限 

**后置条件:** 系统保存期初信息，提供查询功能

**优先级:**

**正常流程:**  

1. 用户选择新建一套账

2. 系统添加商品信息（商品分类、商品名称、类别、型号、进价/售价、最近进价、最近售价）

    2a. 售价由系统自动计算出该商品的全年售价的平均值

    2b. 最近进价最近售价均初始化为空

3. 系统添加客户信息（客户分类、客户名称、联系方式、应收款、应付款）

    3a. 应收款和应付款为系统之前的数据拷贝

4. 系统添加银行账户信息（名称、余额）

5. 系统将此信息单独存储

**扩展流程:**

## 用例12 经营历程查询

**ID:**  12

**名称:** 经营历程查询

**创建者:** 徐鹤

**最后一更新者:** 徐鹤 

**创建日期:**  20170917

**最后更新日期:  **20170921

**参与者:** 财务人员；总经理；目的是帮助用户了解当前的经营历程

**触发条件:** 用户需要查看经营历程表

**前置条件:** 用户登录系统并具有权限 

**后置条件:** 系统显示单据；单据可导出

**优先级:**

**正常流程:**  

1. 用户选择筛选条件（包括：时间区间，单据类型，客户，业务员，仓库）

   1.1. 单据类型包括：

   1. 销售类单据（销售出货单、销售退货单）
   2. 进货类单据（进货单、进货退货单）
   3. 财务类单据（付款单、收款单、现金费用单）
   4. 库存类单据（报溢单、报损单、赠送单）

2. 系统根据查询筛选条件显示符合条件的单据

3. 用户对单据进行查看操作

4. 用户对单据进行其他操作

   4.1.红冲操作

   1. 用户选择单据进行红冲操作
   2. 系统检测用户是否为财务人员
   3. 系统生成一个将该单据的金额数据取负数的单据入账
   4. 系统提示操作成功

   4.2.红冲并复制操作

   1. 用户选择单据进行红冲并复制操作
   2. 系统检测用户是否为财务人员
   3. 系统复制该单据生成一个草稿单据
   4. 用户对草稿单据进行编辑
   5. 用户进行保存操作
   6. 系统将该单据入账
   7. 系统提示操作成功

**扩展流程:**

   2a.如果没有符合条件的单据

​	1.系统提示无相关单据

   4.1.2a 不是财务人员

​	1. 系统提示该用户无权限操作

  4.2.2a 不是财务人员

​	1. 系统提示该用户无权限操作

## 用例13 经营情况查询

**ID：**13

**名称：**经营情况查询

**创建者** ：沙浩

**最后一次更新者** ：沙浩

**创建日期** ：2017/9/16

**最后更新日期** ：2017/10/11

**参与者：**总经理、财务人员；目的是帮助用户了解当前的经营情况

**触发条件：**参与者执行查看经营情况表表操作

**前置条件：**参与者已经被识别和授权

**后置条件：**列表显示符合条件的记录；导出数据

**正常流程：**

1. 系统显示收入类
   1.1. 收入类包括：

   1.1.1 销售收入

   1.1.2 商品类收入包括：

   1. 商品报溢收入
   2. 成本调价收入
   3. 进货退货差价
   4. 代金券与实际收款差额收入

2. 系统显示支出类
   2.1. 支出类包括：

   2.1.1 销售成本

   2.1.2 商品类支出包括：

   1. 商品报损
   2. 商品赠出

3. 系统显示利润​

**扩展流程：**
3a. 折让后总收入-总支出

**特殊需求：**

支持导出数据

## 用例14 销售明细查询

**ID：**14

**名称：**销售明细查询

**创建者** ：沙浩

**最后一次更新者** ：沙浩

**创建日期** ：2017/9/16

**最后更新日期** ：2017/10/11

**参与者：**总经理、财务人员；目的是帮助用户了解当前的销售情况

**触发条件：**参与者执行查看销售明细表操作

**前置条件：**参与者已经被识别和授权

**后置条件：**列表显示符合条件的记录；导出数据

**正常流程：**

1. 用户选择筛选条件（包括：时间区间，商品名，客户，业务员，仓库）
2. 系统根据筛选条件返回符合条件的商品销售记录
3. 列表显示信息（包括：时间、商品名、型号、数量、单价、总额） 

**扩展流程:**

   1a. 总经理取消查询

​        1.系统退出

   2a. 如果没有符合条件的商品销售记录

​	1.系统提示无相关商品销售记录

**特殊需求：**
支持导出数据

## 用例15 审批单据

**ID：**15

**名称：**审批单据

**创建者** ：沙浩

**最后一次更新者** ：沙浩

**创建日期** ：2017/9/16

**最后更新日期** ：2017/10/11

**参与者：**总经理；目的是帮助用户审批单据

**触发条件：**总经理执行审批单据操作

**前置条件：**总经理已经被识别和授权

**后置条件：**更新申请单据状态

**正常流程：**

1. 总经理查看申请单据

2. 修改申请单据数据

3. 审批单据

4. 系统更新单据状态

5. 完成审批

**扩展流程：**

1a. 没有申请单据

1. 退出系统

3a. 可以批量审批单据

3b. 总经理审批库存赠送单

  2.1. 审批通过

​	发送消息给库存管理员发放赠品

  2.2. 审批不通过

​	不发送消息给库存管理员发放赠品

5a. 总经理审核通过后系统给财务人员发送审核消息

5b. 总经理审核通过后系统更改相应客户的应收应付数据

**特殊需求：**
无

## 用例16 制定促销策略

**ID：**16

**名称：**制定促销策略

**创建者** ：沙浩

**最后一次更新者** ：沙浩

**创建日期** ：2017/9/16

**最后更新日期** ：2017/10/11

**参与者：**总经理；目的是帮助用户制定销售策略

**触发条件：**总经理执行制定促销策略操作

**前置条件：**总经理已经被识别和授权

**后置条件**：制定出促销策略

**正常流程：**

1. 总经理选择促销策略类型

   1.1 根据用户等级制定相应的促销策略

   ​       选择制定赠品、价格折让、 赠送代金劵

   1.2 特价包

   ​      选择制定组合商品降价

   1.3 根据总价制定促销策略

   ​      选择制定赠品、赠送代金券

2. 总经理制定相应的促销策略

3. 系统更新促销策略

4. 总经理指定促销时间和间隔时间

5. 完成促销策略的制定

**扩展流程：**

   3a.系统会自动建立库存赠送单

**特殊需求：**
促销策略都有起始时间和间隔时间



## 用例17 用户管理

**ID:**  17

**名称:**  用户管理

**创建者:** 徐鹤

**最后一更新者:** 徐鹤 

**创建日期:** 

**最后更新日期:**

**参与者:** 系统管理员

**触发条件:** 管理员需要新建一个用户

**前置条件:** 管理员登录系统并具有权限 

**后置条件:** 

**优先级:**

**正常流程:**

1.  管理员选择创建用户
   1.  管理员选择创建用户类型（库存管理人员、进货销售人员、财务人员、总经理）
   2.  管理员为用户赋予相应权限（低、中、高）
   3.  系统生成用户ID
      1.  总经理ID以00开头后三位为编号
      2.  财务人员ID以01开头后三位为编号
      3.  进货销售人员ID以02开头后三位为编号
      4.  库存管理人员ID以03开头后三位为编号
   4.  管理员设置用户密码
2.  管理员选择删除用户
3.  系统提示操作成功

**扩展流程:**

   4a.管理员设置用户密码为空

​	1. 系统自动设置默认密码666666